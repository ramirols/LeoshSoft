---
import BaseLayout from "./BaseLayout.astro";
const { frontmatter } = Astro.props;

const readingTime = Math.ceil(frontmatter.words / 200);
---

<BaseLayout
  title={`${frontmatter.title} | LeoryenSoft`}
  description={frontmatter.description}
  image={frontmatter.cover}
  type="article"
>
  <!-- Hero -->
  <header class="relative mt-[65px]">
    {
      frontmatter.cover && (
        <img
          src={frontmatter.cover}
          alt={frontmatter.title}
          class="w-full h-[420px] object-cover"
        />
      )
    }
    <div class="absolute inset-0 bg-black/50"></div>

    <div class="absolute inset-0 flex items-end">
      <div class="max-w-4xl mx-auto px-6 pb-12 text-white">
        <h1 class="text-4xl md:text-5xl font-bold leading-tight">
          {frontmatter.title}
        </h1>

        <p class="mt-4 text-white/80 max-w-2xl">
          {frontmatter.description}
        </p>

        <div class="flex gap-4 text-sm mt-6 text-white/70">
          <span>
            {new Date(frontmatter.date).toLocaleDateString("es-PE")}
          </span>
          <span>•</span>
          <span>{frontmatter.author}</span>
          <span>•</span>
          <span>{readingTime} min lectura</span>
        </div>
      </div>
    </div>
  </header>

  <!-- Contenido -->
  <article class="max-w-3xl mx-auto px-6 py-16 prose prose-neutral prose-lg">
    <slot />
  </article>

  <!-- Relacionados -->
  <section class="max-w-5xl mx-auto px-6 pb-24">
    <h2 class="text-2xl font-semibold mb-8">Artículos relacionados</h2>
    <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6">
      <slot name="related" />
    </div>
  </section>
</BaseLayout>
