---
import { getCollection } from "astro:content";
import BaseLayout from "../../layouts/BaseLayout.astro";

const posts = await getCollection("blog");
---

<BaseLayout title="Blog sobre desarrollo web, SEO y negocios (2025)">
    <section class="max-w-5xl mx-auto px-6 py-16">
        <h1 class="text-4xl font-bold text-gray-900 mb-10">
            Blog sobre desarrollo web, SEO y negocios (2025)
        </h1>

        <div class="grid gap-10 sm:grid-cols-2 lg:grid-cols-3">
            {
                posts.map((post) => (
                    <a
                        href={`/blog/${post.id}`}
                        class="block border rounded-xl p-6 hover:shadow-lg transition bg-white"
                    >
                        {post.data.cover && (
                            <img
                                src={post.data.cover}
                                alt={post.data.title}
                                class="rounded-lg mb-4 h-40 w-full object-cover"
                            />
                        )}

                        <h2 class="text-xl font-semibold mb-2">
                            {post.data.title}
                        </h2>
                        <p class="text-gray-600 text-sm mb-3">
                            {post.data.description}
                        </p>
                        <p class="text-gray-400 text-xs">
                            {post.data.date.toLocaleDateString("es-PE")}
                        </p>
                    </a>
                ))
            }
        </div>
    </section>
</BaseLayout>
